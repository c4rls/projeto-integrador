#:kivy 1.11.1

<ScreenRoot>:
    search_box: search_box
    books_list: books_list
    canvas:
        Color:
            rgb: 0.95, 0.95, 0.95
        Rectangle:
            pos: self.pos
            size: self.size

    Widget:
        size_hint_x: 0.05 # 5% of width
    BoxLayout: # 90% of width
        orientation: 'vertical'
        Widget:
            size_hint_y: None
            height: 20
        Header:
        Widget:
            size_hint_y: None
            height: 20
        SearchBox:
            id: search_box
        BooksList:
            id: books_list
    Widget:
        size_hint_x: 0.05 # 5% of width


<Header@BoxLayout>:
    size_hint_y: None
    height: 50
    Label:
        text: 'Projeto Integrador'
        color: 0, 0, 0, 1
        font_size: 30


<SearchBox@BoxLayout>:
    size_hint_y: None
    height: 40
    orientation: 'horizontal'
    spacing: 5

    TextInput:
        id: search_input
        hint_text: 'Termos da pesquisa'
        font_size: 17
        text_size: self.size
        valign: 'middle'
    Button:
        text: 'Buscar'
        size_hint_x: None
        width: '100dp'
        on_release: root.parent.parent.getBooks() # screen root

<BooksList@BoxLayout>:
    orientation: 'vertical'

    BooksListHeader:
        id: books_header
    ScrollView:
        BoxLayout:
            id: books_list
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: 8

<BooksListHeader@BoxLayout>:
    orientation: 'vertical'
    padding: 10
    size_hint_y: None
    height: 80
    spacing: 5

    found_books: 0

    Label:
        size_hint_y: None
        height: 30
        text: 'Resultados'
        color: 0, 0, 0, 1
        font_size: 23
        text_size: self.size
        halign: 'left'
    Label:
        text: str(root.found_books) + ' livros encontrados'
        color: 0, 0, 0, 1
        font_size: 16
        text_size: self.size
        halign: 'left'

<Book>:
    orientation: 'vertical'
    size_hint_y: None
    height: 100
    padding: 10

    title_content: ''
    authors_content: ''
    link_content: ''

    canvas:
        Color:
            rgb: 0.4, 0.4, 0.4
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
    BookField:
        label_content: 'TÃ­tulo'
        text_content: str(root.title_content)
    BookField:
        label_content: 'Autores'
        text_content: str(root.authors_content)
    BookField:
        label_content: 'Link'
        text_content: str(root.link_content)

<BookField@Label>:
    label_content: ''
    text_content: ''

    text: str(self.label_content) + ': ' + str(self.text_content)
    color: 0, 0, 0, 1
    text_size: self.size
    font_size: 16
    halign: 'left'
